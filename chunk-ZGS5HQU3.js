import{$ as C,A as B,Ba as oe,C as u,Ca as re,D as g,Da as R,Fa as ae,Ga as le,H as t,Ha as ce,I as F,K as y,Ka as se,L as o,M as l,Ma as pe,N as a,Na as de,O as _,Oa as me,P as V,Q as L,Qa as ue,R as T,Ra as ge,S as x,Sa as S,T as h,Ta as Ce,U as f,Ua as _e,V as Y,Va as he,W as $,Wa as fe,X as J,Xa as Se,Y as O,Ya as ve,Z as d,Za as Oe,_ as b,_a as Me,aa as Q,ab as ye,ba as W,bb as Ee,ca as X,cb as Pe,da as E,db as xe,e as U,ea as q,eb as be,fa as K,fb as M,g as z,ga as p,ha as m,ia as I,ja as D,na as H,oa as Z,pa as ee,qa as te,ra as ne,sa as ie,t as N,u as G,w as A,z as j}from"./chunk-GR7VWZ6P.js";var P=function(e){return e[e.Bad=1]="Bad",e[e.Neutral=2]="Neutral",e[e.Good=3]="Good",e[e.Excellent=4]="Excellent",e}(P||{});var Fe=["dialog"],we=()=>({count:2}),Te=(e,r)=>({x:e,y:r}),De=()=>({value:1}),ke=()=>({value:2}),Ne=()=>({value:3}),Ve=e=>({x:e,y:3});function Le(e,r){if(e&1&&(l(0,"div",10),d(1),p(2,"translate"),a()),e&2){let s=r.$implicit;t(),C(" ",I(2,1,"BASE.SPECIAL_MODE.INSPIRATIONS.X_OF_Y_ACTIVE",q(4,Ve,s))," ")}}function Re(e,r){if(e&1&&(V(0),_(1,"div",12),l(2,"div",7)(3,"h3")(4,"span",34),d(5),p(6,"translate"),a(),d(7),p(8,"translate"),a(),l(9,"div",35),_(10,"dnd-input-inspiration",36,4)(12,"dnd-input-inspiration",36,5)(14,"dnd-input-inspiration",36,6),a(),y(16,Le,3,6,"div",37),a(),L()),e&2){let s=O(11),c=O(13),i=O(15);t(5),b(m(6,9,"BASE.SPECIAL_MODE.DIALOG.PREMIUM")),t(2),C(" ",I(8,11,"BASE.SPECIAL_MODE.INSPIRATIONS.TITLE",E(14,we))," "),t(3),o("value",!0)("specialMode",!0),t(2),o("value",!0)("specialMode",!0),t(2),o("value",!0)("specialMode",!0),t(2),o("ngLet",(s.value?1:0)+(c.value?1:0)+(i.value?1:0))}}function Ue(e,r){if(e&1&&_(0,"dnd-input-number",38),e&2){let s=f();o("formControl",s.platinumFormControl)}}function ze(e,r){if(e&1&&T(0,39),e&2){f();let s=O(49);o("ngTemplateOutlet",s)}}function Ge(e,r){if(e&1&&T(0,39),e&2){f();let s=O(51);o("ngTemplateOutlet",s)}}function je(e,r){if(e&1&&T(0,39),e&2){f();let s=O(53);o("ngTemplateOutlet",s)}}function Ye(e,r){if(e&1){let s=x();l(0,"h4",40),d(1),p(2,"translate"),a(),l(3,"p",41),d(4),p(5,"translate"),a(),l(6,"div",42)(7,"dnd-button",43),h("click",function(){u(s);let i=f();return g(i.closeDialog())}),a(),l(8,"dnd-button",30),h("click",function(){u(s);let i=f();return g(i.updateCurrency("0"))}),a()()}e&2&&(t(),C(" ",m(2,3,"BASE.ACTIONS.RESET")," "),t(3),C(" ",m(5,5,"BASE.CURRENCY.RESET")," "),t(4),o("alternateStyle",!0))}function $e(e,r){if(e&1){let s=x();l(0,"h4",40),d(1),p(2,"translate"),a(),l(3,"p",41),d(4),p(5,"translate"),a(),l(6,"div",42)(7,"dnd-button",43),h("click",function(){u(s);let i=f();return g(i.closeDialog())}),a(),l(8,"dnd-button",30),h("click",function(){u(s);let i=f();return g(i.resetSleep())}),a()()}e&2&&(t(),C(" ",m(2,3,"BASE.ACTIONS.RESET")," "),t(3),C(" ",m(5,5,"BASE.SLEEP.RESET")," "),t(4),o("alternateStyle",!0))}function Je(e,r){if(e&1){let s=x();l(0,"h4",44),d(1),p(2,"translate"),a(),l(3,"p",41)(4,"span",45),d(5),p(6,"translate"),l(7,"span",34),d(8),p(9,"translate"),a()(),_(10,"br"),d(11),p(12,"translate"),a(),l(13,"div",42)(14,"dnd-button",46),h("click",function(){u(s);let i=f();return g(i.closeDialog())}),a(),l(15,"dnd-button",47),h("click",function(){u(s);let i=f();return g(i.confirmSpecialDialog())}),a()()}e&2&&(t(),C(" ",m(2,5,"BASE.SPECIAL_MODE.DIALOG.TITLE")," "),t(4),C(" ",m(6,7,"BASE.SPECIAL_MODE.DIALOG.SUBTITLE")," "),t(3),C(" ",m(9,9,"BASE.SPECIAL_MODE.DIALOG.PREMIUM")," "),t(3),C(" ",m(12,11,"BASE.SPECIAL_MODE.DIALOG.DESCRIPTION")," "),t(4),o("alternateStyle",!0))}var Ae=(()=>{let r=class r{constructor(c,i,n){this.formBuilder=c,this.currencyService=i,this.dataService=n,this.inspirationsAvailable=1,this.inspirationsTotal=3,this.currencyValue=0,this.currencyFactor=10,this.radioOptions=[{label:"BASE.SLEEP.VALUES.BAD",value:P.Bad},{label:"BASE.SLEEP.VALUES.NEUTRAL",value:P.Neutral},{label:"BASE.SLEEP.VALUES.GOOD",value:P.Good},{label:"BASE.SLEEP.VALUES.EXCELLENT",value:P.Excellent}],this.activeDialog="resetCurrency",this.isSpecialModeActive$=z(!1),this.hasSpecialModeUnlocked=!1,this.ASSET_IMAGE=Me,this.destroy$=new U,this.insp1FormControl=new S(!0),this.insp2FormControl=new S(!1),this.insp3FormControl=new S(!1),this.inspirationForm=this.formBuilder.group({insp1:this.insp1FormControl,insp2:this.insp2FormControl,insp3:this.insp3FormControl}),this.platinumFormControl=new S(null),this.goldFormControl=new S(null),this.silverFormControl=new S(null),this.copperFormControl=new S(null),this.currencyForm=this.formBuilder.group({platinum:this.platinumFormControl,gold:this.goldFormControl,silver:this.silverFormControl,copper:this.copperFormControl}),this.sleep1FormControl=new S(null),this.sleep2FormControl=new S(null),this.sleep3FormControl=new S(null),this.sleepForm=this.formBuilder.group({sleep1:this.sleep1FormControl,sleep2:this.sleep2FormControl,sleep3:this.sleep3FormControl})}ngOnInit(){this.listenToValueChanges(),this.loadValuesFromStorage()}ngAfterViewInit(){this.listenToDataService()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}showCurrencyResetConfirmDialog(c){switch(c){case"resetCurrency":this.currencyValue!==0&&(this.activeDialog="resetCurrency",this.dialog?.nativeElement.showModal());break;case"resetSleep":this.activeDialog="resetSleep",this.dialog?.nativeElement.showModal();break;default:break}}closeDialog(){this.dialog?.nativeElement.close()}updateCurrency(c){if(c==="0")this.currencyValue=0,this.closeDialog();else{let i=c==="-"?-1:1;this.currencyValue+=i*(this.copperFormControl.value??0),this.currencyValue+=i*(this.silverFormControl.value??0)*this.currencyFactor,this.currencyValue+=i*(this.goldFormControl.value??0)*Math.pow(this.currencyFactor,2),this.currencyValue+=i*(this.platinumFormControl.value??0)*Math.pow(this.currencyFactor,3)}localStorage.setItem(M.Currency,String(this.currencyValue)),this.currencyForm.reset()}resetSleep(){this.sleepForm.setValue({sleep1:null,sleep2:null,sleep3:null}),this.closeDialog()}confirmSpecialDialog(){window.open("https://www.tierschutzbund.de/helfen/spenden/jetzt-spenden#fbform","_blank"),setTimeout(()=>{this.hasSpecialModeUnlocked=!0,this.closeDialog()},250)}listenToValueChanges(){this.inspirationForm.valueChanges.pipe(N(this.destroy$)).subscribe(()=>{localStorage.setItem(M.Inspiration,JSON.stringify(this.inspirationForm.value)),this.updateAvailableInspirations()}),this.sleepForm.valueChanges.pipe(N(this.destroy$)).subscribe(()=>{localStorage.setItem(M.Sleep,JSON.stringify(this.sleepForm.value))})}loadValuesFromStorage(){this.currencyValue=Number.parseInt(localStorage.getItem(M.Currency)??"0",10);let c=localStorage.getItem(M.Inspiration);c&&this.inspirationForm.patchValue(JSON.parse(c));let i=localStorage.getItem(M.Sleep);i&&this.sleepForm.patchValue(JSON.parse(i))}updateAvailableInspirations(){this.inspirationsAvailable=(this.insp1FormControl.value?1:0)+(this.insp2FormControl.value?1:0)+(this.insp3FormControl.value?1:0)}listenToDataService(){this.isSpecialModeActive$=this.dataService.isSpecialModeActive().pipe(G(c=>{c&&(this.activeDialog="special",this.dialog?.nativeElement.showModal())}))}};r.\u0275fac=function(i){return new(i||r)(F(Se),F(de),F(se))},r.\u0275cmp=j({type:r,selectors:[["dnd-base"]],viewQuery:function(i,n){if(i&1&&Y(Fe,5),i&2){let v;$(v=J())&&(n.dialog=v.first)}},decls:54,vars:57,consts:[["dialog",""],["resetCurrencyDialog",""],["resetSleepDialog",""],["specialDialog",""],["specInsp1",""],["specInsp2",""],["specInsp3",""],[1,"inspiration-container"],[1,"pill-group",3,"formGroup"],[3,"formControl"],[1,"inspiration-subheader","color-subtitle"],[4,"ngIf"],["role","separator","aria-label","Divider",1,"divider"],[1,"currency-container"],[3,"currencyValue","currencyFactor"],[1,"currency-container-form",3,"formGroup"],["currencyDot","platinum","label","BASE.CURRENCY.PLATINUM",3,"formControl",4,"ngIf"],["currencyDot","gold","label","BASE.CURRENCY.GOLD",3,"formControl"],["currencyDot","silver","label","BASE.CURRENCY.SILVER",3,"formControl"],["currencyDot","copper","label","BASE.CURRENCY.COPPER",3,"formControl"],[1,"currency-container-actions"],["text","BASE.ACTIONS.ADD",3,"click","disabled"],["text","BASE.ACTIONS.SUBTRACT",3,"click","disabled"],["text","BASE.ACTIONS.RESET",1,"pt",3,"click","disabled","alternateStyle"],[1,"currency-container-use-platinum"],["label","BASE.CURRENCY.USE_PLATINUM",3,"ngModelChange","ngModel"],[1,"sleep-container"],[1,"sleep-container-form",3,"formGroup"],["label","BASE.SLEEP.LABEL",3,"labelInterpolateParams","options","formControl"],[1,"sleep-container-actions"],["text","BASE.ACTIONS.RESET",3,"click","alternateStyle"],[1,"dialog"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],[1,"special-mode-gradient"],[1,"pill-group"],[3,"value","specialMode"],["class","inspiration-subheader color-subtitle",4,"ngLet"],["currencyDot","platinum","label","BASE.CURRENCY.PLATINUM",3,"formControl"],[3,"ngTemplateOutlet"],[1,"dialog-title","my-0"],[1,"dialog-content"],[1,"dialog-actions"],["text","BASE.ACTIONS.CANCEL",3,"click"],[1,"dialog-title","my-0","special-mode"],[1,"weight-black"],["text","BASE.SPECIAL_MODE.ACTIONS.CANCEL",3,"click"],["text","BASE.SPECIAL_MODE.ACTIONS.DONATE",3,"click","alternateStyle"]],template:function(i,n){if(i&1){let v=x();l(0,"div",7)(1,"h3"),d(2),p(3,"translate"),a(),l(4,"form",8),_(5,"dnd-input-inspiration",9)(6,"dnd-input-inspiration",9)(7,"dnd-input-inspiration",9),a(),l(8,"div",10),d(9),p(10,"translate"),a()(),y(11,Re,17,15,"ng-container",11),p(12,"async"),_(13,"div",12),l(14,"div",13)(15,"h3"),d(16),p(17,"translate"),a(),_(18,"dnd-currency-display",14),l(19,"form",15),y(20,Ue,1,1,"dnd-input-number",16),p(21,"async"),_(22,"dnd-input-number",17)(23,"dnd-input-number",18)(24,"dnd-input-number",19),a(),l(25,"div",20)(26,"dnd-button",21),h("click",function(){return u(v),g(n.updateCurrency("+"))}),a(),l(27,"dnd-button",22),h("click",function(){return u(v),g(n.updateCurrency("-"))}),a(),l(28,"dnd-button",23),h("click",function(){return u(v),g(n.showCurrencyResetConfirmDialog("resetCurrency"))}),a()(),l(29,"div",24)(30,"dnd-input-checkbox",25),X("ngModelChange",function(k){return u(v),W(n.currencyService.usesPlatinum,k)||(n.currencyService.usesPlatinum=k),g(k)}),a()()(),_(31,"div",12),l(32,"div",26)(33,"h3"),d(34),p(35,"translate"),a(),l(36,"form",27),_(37,"dnd-radio-group",28)(38,"dnd-radio-group",28)(39,"dnd-radio-group",28),a(),l(40,"div",29)(41,"dnd-button",30),h("click",function(){return u(v),g(n.showCurrencyResetConfirmDialog("resetSleep"))}),a()()(),l(42,"dialog",31,0),V(44,32),y(45,ze,1,1,"ng-container",33)(46,Ge,1,1,"ng-container",33)(47,je,1,1,"ng-container",33),L(),a(),y(48,Ye,9,7,"ng-template",null,1,D)(50,$e,9,7,"ng-template",null,2,D)(52,Je,16,13,"ng-template",null,3,D)}i&2&&(t(2),b(I(3,36,"BASE.INSPIRATIONS.TITLE",E(50,we))),t(2),o("formGroup",n.inspirationForm),t(),o("formControl",n.insp1FormControl),t(),o("formControl",n.insp2FormControl),t(),o("formControl",n.insp3FormControl),t(2),C(" ",I(10,39,"BASE.INSPIRATIONS.X_OF_Y_ACTIVE",K(51,Te,n.inspirationsAvailable,n.inspirationsTotal))," "),t(2),o("ngIf",m(12,42,n.isSpecialModeActive$)&&n.hasSpecialModeUnlocked),t(5),b(m(17,44,"BASE.CURRENCY.TITLE")),t(2),o("currencyValue",n.currencyValue)("currencyFactor",n.currencyFactor),t(),o("formGroup",n.currencyForm),t(),o("ngIf",m(21,46,n.currencyService.usesPlatinum$)),t(2),o("formControl",n.goldFormControl),t(),o("formControl",n.silverFormControl),t(),o("formControl",n.copperFormControl),t(2),o("disabled",!n.currencyForm.valid),t(),o("disabled",!n.currencyForm.valid),t(),o("disabled",!n.currencyForm.valid||n.currencyValue===0)("alternateStyle",!0),t(2),Q("ngModel",n.currencyService.usesPlatinum),t(4),b(m(35,48,"BASE.SLEEP.TITLE")),t(2),o("formGroup",n.sleepForm),t(),o("labelInterpolateParams",E(54,De))("options",n.radioOptions)("formControl",n.sleep1FormControl),t(),o("labelInterpolateParams",E(55,ke))("options",n.radioOptions)("formControl",n.sleep2FormControl),t(),o("labelInterpolateParams",E(56,Ne))("options",n.radioOptions)("formControl",n.sleep3FormControl),t(2),o("alternateStyle",!0),t(3),o("ngSwitch",n.activeDialog),t(),o("ngSwitchCase","resetCurrency"),t(),o("ngSwitchCase","resetSleep"),t(),o("ngSwitchCase","special"))},dependencies:[H,te,Z,ee,_e,ue,ge,Ce,le,he,fe,pe,me,ye,Ee,Pe,xe,ne,oe],styles:["@keyframes _ngcontent-%COMP%_shine-keyframes{to{background-position-x:-500%}}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize;text-wrap:balance;margin-block-start:0}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:40px;line-height:60px;margin-top:0}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:32px;line-height:48px}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:24px;line-height:32px}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:20px;line-height:30px}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:18px;line-height:26px}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:16px;line-height:24px}.font-weight-black[_ngcontent-%COMP%], .weight-black[_ngcontent-%COMP%]{font-weight:900}.font-weight-bold[_ngcontent-%COMP%], .weight-bold[_ngcontent-%COMP%]{font-weight:700}.font-weight-medium[_ngcontent-%COMP%], .weight-medium[_ngcontent-%COMP%]{font-weight:500}.font-weight-regular[_ngcontent-%COMP%], .weight-regular[_ngcontent-%COMP%]{font-weight:400}.uppercase[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}p[_ngcontent-%COMP%]{font-size:14px;line-height:24px}p.uppercase[_ngcontent-%COMP%]{font-size:16px;line-height:24px}a[_ngcontent-%COMP%]{text-decoration:underline;color:var(--title)}.description[_ngcontent-%COMP%], .description.uppercase[_ngcontent-%COMP%]{font-size:14px;line-height:24px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .input.uppercase[_ngcontent-%COMP%]{font-size:14px;line-height:22px;font-weight:500}.subtitle[_ngcontent-%COMP%], .subtitle.uppercase[_ngcontent-%COMP%]{font-size:18px;line-height:28px}.caption[_ngcontent-%COMP%], .caption.uppercase[_ngcontent-%COMP%]{font-size:12px;line-height:18px}.tiny[_ngcontent-%COMP%], .tiny.uppercase[_ngcontent-%COMP%]{font-size:10px;line-height:16px}[_nghost-%COMP%]{display:flex}@media only screen and (min-width: 769px){[_nghost-%COMP%]{flex-direction:row;justify-content:flex-start;align-items:stretch;gap:var(--large-spacing)}}@media only screen and (max-width: 768px){[_nghost-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start;gap:var(--large-spacing)}}[_nghost-%COMP%]   .inspiration-subheader[_ngcontent-%COMP%]{margin-top:var(--medium-spacing)}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{width:1px;background:var(--vertical-gradient);margin-inline:var(--small-spacing)}@media only screen and (max-width: 768px){[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   .inspiration-container[_ngcontent-%COMP%]{width:min(2 * var(--pill-width) + var(--medium-spacing) + 2px,100%)}[_nghost-%COMP%]   .inspiration-container[_ngcontent-%COMP%]   .pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-around;align-items:flex-start;gap:var(--medium-spacing);width:100%;border-radius:var(--pill-border-radius);background-color:var(--btn-bg-color);border-color:var(--btn-border-color);border-width:1px;border-style:solid}[_nghost-%COMP%]   .inspiration-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .currency-container[_ngcontent-%COMP%]{padding-block-end:var(--small-spacing)}[_nghost-%COMP%]   .currency-container-form[_ngcontent-%COMP%]{padding-top:var(--large-spacing)}[_nghost-%COMP%]   .currency-container-form[_ngcontent-%COMP%], [_nghost-%COMP%]   .currency-container-actions[_ngcontent-%COMP%], [_nghost-%COMP%]   .sleep-container-form[_ngcontent-%COMP%], [_nghost-%COMP%]   .sleep-container-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--small-spacing)}[_nghost-%COMP%]   .currency-container-use-platinum[_ngcontent-%COMP%], [_nghost-%COMP%]   .sleep-container-use-platinum[_ngcontent-%COMP%]{padding-block-start:var(--medium-spacing)}[_nghost-%COMP%]   .currency-container-actions[_ngcontent-%COMP%], [_nghost-%COMP%]   .sleep-container-actions[_ngcontent-%COMP%]{padding-top:calc(var(--large-spacing) + var(--small-spacing))}[_nghost-%COMP%]   .currency-container-actions[_ngcontent-%COMP%]   .pt[_ngcontent-%COMP%], [_nghost-%COMP%]   .sleep-container-actions[_ngcontent-%COMP%]   .pt[_ngcontent-%COMP%]{padding-top:var(--small-spacing)}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]{background-color:var(--bg-neutral2);border-radius:var(--pill-border-radius);border-width:1px;border-color:var(--placeholder)}[_nghost-%COMP%]   .dialog-title[_ngcontent-%COMP%], [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{color:var(--title)}[_nghost-%COMP%]   .dialog-title.special-mode[_ngcontent-%COMP%]{white-space:break-spaces;text-align:center}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{white-space:pre-line;font-size:14px;line-height:24px}[_nghost-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{padding-top:var(--medium-spacing);display:flex;flex-direction:row;align-items:center;justify-content:flex-end;gap:var(--medium-spacing)}[_nghost-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   dnd-button[_ngcontent-%COMP%]{width:33%}[_nghost-%COMP%]   [_ngcontent-%COMP%]::backdrop{background-color:var(--bg-neutral2);opacity:.75}[_nghost-%COMP%]   .special-mode-gradient[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffd169,#f4afcf,#aa9ccc 66%,#85cfc1);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}"]});let e=r;return e})();var Qe=[{path:"",component:Ae},{path:"**",redirectTo:""}],Be=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=B({type:r}),r.\u0275inj=A({imports:[R.forChild(Qe),R]});let e=r;return e})();var Pt=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=B({type:r}),r.\u0275inj=A({imports:[ae,Be,ie,ve,ce,Oe,be,re.forChild()]});let e=r;return e})();export{Pt as BaseModule};
